// Chart styling to match Check for Flooding service
@use "govuk-frontend" as govuk;

.defra-line-chart {
  margin-bottom: 2rem;

  &__container {
    position: relative;
    width: 100%;
    height: 400px;
    background-color: #ffffff;
  }

  svg {
    width: 100%;
    height: 100%;
    font-family: "GDS Transport", arial, sans-serif;
    font-size: 14px;

    .grid {
      line {
        fill: none;
        color: rgba(govuk.$govuk-text-colour, 0.1);
        stroke: currentColor;
        stroke-width: 1;
        shape-rendering: crispEdges;
      }

      path {
        stroke-width: 0;
      }
    }

    .axis {
      line {
        color: govuk.$govuk-border-colour;
        stroke: #0b0c0c;
        stroke-width: 1;
        shape-rendering: crispEdges;
      }

      path {
        stroke: #0b0c0c;
        stroke-width: 1;
      }

      text {
        fill: #0b0c0c;
        font-size: 16px;
      }
    }

    .y.axis {
      path {
        stroke-width: 0;
      }

      .tick line {
        stroke-width: 0;
      }
    }

    .x.axis {
      .tick line {
        stroke-width: 0;
      }

      path {
        stroke: govuk.$govuk-border-colour;
      }
    }

    .observed-area {
      fill: govuk.govuk-colour("blue");
      fill-opacity: 0.1;
    }

    .observed-line {
      fill: none;
      stroke: #1d70b8;
      stroke-width: 3;
    }

    .forecast-area {
      fill: #f47738;
      fill-opacity: 0.2;
    }

    .forecast-line {
      fill: none;
      stroke: #f47738;
      stroke-width: 3;
      stroke-dasharray: 5, 5;
    }

    .time-line {
      stroke: #0b0c0c;
      stroke-width: 1;
      shape-rendering: crispEdges;
    }

    .time-now-text {
      fill: #0b0c0c;
      font-size: 16px;
      text-anchor: middle;
      font-weight: bold;
    }

    .locator {
      &__line {
        stroke: #b1b4b6;
        stroke-width: 1;
        opacity: 0;

        &--visible {
          opacity: 1;
        }
      }

      &__background {
        fill: #1d70b8;
        opacity: 0;

        &--visible {
          opacity: 0.1;
        }
      }

      &-point {
        fill: #fff;
        stroke: #1d70b8;
        stroke-width: 2;
        opacity: 0;
      }

      &--visible {
        .locator__line {
          opacity: 1;
        }

        .locator-point {
          opacity: 1;
        }
      }
    }

    .tooltip {
      opacity: 0;
      pointer-events: none;

      &--visible {
        opacity: 1;
      }

      &-bg {
        fill: #fff;
        stroke: #0b0c0c;
        stroke-width: 0.5;
      }

      &-text {
        fill: #0b0c0c;
        font-size: 16px;

        &__strong {
          font-weight: 700;
          font-size: 18px;
        }

        &__small {
          font-size: 12px;
        }
      }
    }

    .threshold {
      &__bg {
        fill: #d4351c;
        opacity: 0.05;
      }

      &__line {
        stroke: #d4351c;
        stroke-width: 2;
        stroke-dasharray: 5, 5;
      }

      &--selected {
        .threshold__bg {
          opacity: 0.1;
        }
      }
    }

    .threshold-label {
      &__bg {
        fill: #fff;
        stroke: #d4351c;
        stroke-width: 2;
      }

      &__text {
        fill: #0b0c0c;
        font-size: 14px;
        font-weight: 700;
      }
    }

    .point {
      circle {
        fill: #fff;
        stroke-width: 2;
      }

      &--observed circle {
        stroke: #1d70b8;
      }

      &--forecast circle {
        stroke: #1d70b8;
      }

      text {
        font-size: 0;
      }
    }

    .significant--visible {
      .point {

        &:hover,
        &:focus {
          circle {
            r: 7;
          }
        }
      }
    }
  }
}

.defra-button-secondary {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background-color: #f3f2f1;
  color: #0b0c0c;
  border: 2px solid #0b0c0c;
  padding: 8px 16px;
  text-decoration: none;
  font-weight: 400;

  &:hover {
    background-color: #dbdad9;
  }

  &__icon {
    display: inline-flex;

    svg {
      width: 14px;
      height: 20px;
    }
  }

  &__text {
    font-size: 16px;
  }
}